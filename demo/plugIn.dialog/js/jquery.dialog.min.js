(function(a){a.dialog=function(c){var d={types:"",id:"",className:"",parentDom:null,titles:"提示",contents:"",width:200,height:110,ensure:"确定",cancel:"取消",times:2000,close:"×",p:"",callback:null},c=a.extend(d,c),e={win:a("<div>").addClass("w_win show").attr("data-plugIn","dialog"),tops:a("<div>").addClass("w_top").html(c.titles),con:a("<div>").addClass("w_con").html(c.contents),bot:a("<div>").addClass("w_bot"),inp:a("<input>").attr("type","text").addClass("w_prompt"),ensure:a("<a>").attr({href:"javascript:;"}).addClass("w_ensure").html(c.ensure),cancel:a("<a>").attr({href:"javascript:;"}).addClass("w_cancel").html(c.cancel),close:a("<a>").attr("href","javascript:;").addClass("w_close").html(c.close),bg:a("<div>").addClass("w_bg show").attr("data-plugIn","dialog")},b={init:function(){var i=this,h="";if(c.types=="closeFun"){var f=a('div[data-plugIn="dialog"]');f.removeClass("show");if(a.browser.msie&&a.browser.version<10){f.remove()}else{setTimeout(function(){f.remove()},400)}return false}e.tops.append(e.close);if(c.types=="alert"){e.win.addClass("w_alert");e.win.append(e.con);e.win.append(e.bot);e.bot.append(e.ensure);e.ensure.click(function(){if(c.callback){c.callback(c.p)}i.wClose()})}else{if(c.types=="confirm"){e.win.addClass("w_confirm");e.win.append(e.tops);e.win.append(e.con);e.win.append(e.bot);e.bot.append(e.ensure);e.bot.append(e.cancel);e.ensure.click(function(){if(c.callback){c.callback(c.p);return false}i.wClose()})}else{if(c.types=="prompt"){e.win.addClass("w_prompt");e.win.append(e.tops);e.win.append(e.con);e.win.append(e.bot);e.con.append(e.inp);e.bot.append(e.ensure);e.bot.append(e.cancel);e.ensure.click(function(){if(c.callback){c.callback(e.inp.val(),c.p)}})}else{if(c.types=="loading"){e.win.append(e.con);e.con.html(c.contents).css({"text-align":"center","line-height":c.height+"px",padding:0});function g(j){setTimeout(function(){e.con.append(".");j++;if(j<4){g(j)}else{e.con.html(c.contents);g(0)}},500)}g(0)}else{if(c.types=="moment"){e.win.append(e.con);e.con.html(c.contents).css({"text-align":"center","line-height":c.height+"px",padding:0});setTimeout(function(){i.wClose()},c.times);e.bg.click(function(){i.wClose();return false})}}}}}e.close.click(function(){i.wClose()});e.cancel.click(function(){i.wClose()});i.even()},even:function(){e.win.css({width:c.width,height:c.height,"margin-top":-c.height/2,"margin-left":-c.width/2});if(c.id){e.win.attr("id",c.id)}if(c.className){e.win.addClass(c.className)}if(c.parentDom){c.parentDom.append(e.bg);c.parentDom.append(e.win)}else{a("body").append(e.bg);a("body").append(e.win)}if(a.browser.msie&&a.browser.version==6){e.bg.css("height",a("html").height());a(window).on("scroll",function(){e.win.css({top:a(document).scrollTop()+a("html").height()/2});e.bg.css({top:a(document).scrollTop()})})}},wClose:function(){e.win.removeClass("show");e.bg.removeClass("show");if(a.browser.msie&&a.browser.version<10){e.win.remove();e.bg.remove()}else{setTimeout(function(){e.win.remove();e.bg.remove()},400)}}};b.init()}})(jQuery);
